# Gitleaks Configuration
# https://github.com/gitleaks/gitleaks#configuration

title = "Gitleaks Config for Journal App"

[extend]
# Use default gitleaks config as base
useDefault = true

[allowlist]
description = "Allowlist for false positives"

# Allow test credential patterns
regexes = [
  # Test credentials in workflow files
  '''test-secret-key''',
  '''test_password''',
  '''test-password''',
  '''test_key''',
  '''re_test_key''',

  # Example/placeholder patterns
  '''your_.*_here''',
  '''your-.*-here''',
  '''sk_test_.*example''',
  '''example.*key''',
  '''placeholder''',
  '''REPLACE_ME''',
  '''TODO:.*''',
]

# Allow specific files and directories
[[allowlist.paths]]
regex = '''.*IMPLEMENTATION\.md$'''

[[allowlist.paths]]
regex = '''.*README\.md$'''

[[allowlist.paths]]
regex = '''.*CLAUDE\.md$'''

[[allowlist.paths]]
regex = '''\.env\.example$'''

[[allowlist.paths]]
regex = '''_bmad-output/.*'''

[[allowlist.paths]]
regex = '''docs/.*'''

[[allowlist.paths]]
regex = '''server/src/__tests__/.*'''

[[allowlist.paths]]
regex = '''.*\.test\.(js|ts|jsx|tsx)$'''

[[allowlist.paths]]
regex = '''.*\.spec\.(js|ts|jsx|tsx)$'''

[[allowlist.paths]]
regex = '''server/drizzle/.*'''

[[allowlist.paths]]
regex = '''node_modules/.*'''

[[allowlist.paths]]
regex = '''dist/.*'''

[[allowlist.paths]]
regex = '''build/.*'''
